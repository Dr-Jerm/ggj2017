{"version":3,"sources":["webpack:///./app/app.js","webpack:///./app/game/Scene1.js","webpack:///./app/game/vr-controller.js"],"names":["WEBVR","isAvailable","document","body","appendChild","getMessage","scene","vrRenderer","renderer","init","container","createElement","THREE","WebGLRenderer","antialias","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","shadowMap","enabled","gammaInput","gammaOutput","domElement","VREffect","getButton","addEventListener","onWindowResize","tick","requestAnimationFrame","update","render","camera","aspect","updateProjectionMatrix","Scene1","controls","controller1","controller2","PerspectiveCamera","add","HemisphereLight","light","DirectionalLight","position","set","castShadow","shadow","top","bottom","right","left","mapSize","VRControls","standing","Scene","module","exports","Controller","index","self","onTriggerDown","event","console","log","onTriggerUp","standingMatrix","getStandingMatrix","loader","OBJLoader","setPath","load","object","TextureLoader","controller","children","material","map","specularMap","clone","ViveController"],"mappings":"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","file":"index.js","sourcesContent":["/* global WEBVR */\n/* global THREE */\nimport Scene1 from './game/Scene1.js';\n\n\nif (WEBVR.isAvailable() === false) {\n  document.body.appendChild(WEBVR.getMessage());\n}\n\nlet scene;\nlet vrRenderer;\nlet renderer;\n\nlet init = function () {\n\tlet container = document.createElement('div');\n\tdocument.body.appendChild(container);\n  scene = new Scene1();\n  renderer = new THREE.WebGLRenderer({ antialias: true });\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.shadowMap.enabled = true;\n  renderer.gammaInput = true;\n  renderer.gammaOutput = true;\n  container.appendChild(renderer.domElement);\n  vrRenderer = new THREE.VREffect(renderer);\n  if (WEBVR.isAvailable() === true) {\n    document.body.appendChild(WEBVR.getButton(vrRenderer));\n  }\n  \n  window.addEventListener('resize', onWindowResize, false);\n}\n\nlet tick = function () {\n  vrRenderer.requestAnimationFrame(tick);\n  scene.update();\n  vrRenderer.render(scene, scene.camera);\n}\n\nlet onWindowResize = function() {\n  scene.camera.aspect = window.innerWidth/window.innerHeight;\n  scene.camera.updateProjectionMatrix();\n  vrRenderer.setSize(window.innerWidth, window.innerHeight);\n}\n\ninit();\ntick();\n\n\n\n// WEBPACK FOOTER //\n// ./app/app.js","/* global WEBVR */\n/* global THREE */\nimport Controller from './vr-controller';\n\n\nclass Scene1 extends THREE.Scene {\n  constructor() {\n    super();\n    this.controls;\n    this.controller1;\n    this.controller2;\n    let camera = new THREE.PerspectiveCamera(\n      70,\n      window.innerWidth/window.innerHeight,\n      0.1,\n      10\n    );\n    \n    this.add(camera);\n    \n    this.add(new THREE.HemisphereLight(0x808080, 0x606060));\n    var light = new THREE.DirectionalLight(0xffffff);\n    light.position.set(0, 6, 0);\n    \n    light.castShadow = true;\n    light.shadow.camera.top = 2;\n    light.shadow.camera.bottom = -2;\n    light.shadow.camera.right = 2;\n    light.shadow.camera.left = -2;\n    \n    light.shadow.mapSize.set(4096, 4096);\n    this.add(light);\n    \n    this.camera = camera;\n    \n    this.controls = new THREE.VRControls(camera);\n    this.controls.standing = true;\n    \n    this.controller1 = new Controller(0, this.controls);\n    this.add(this.controller1);\n    this.controller2 = new Controller(1, this.controls);\n    this.add(this.controller2);\n  }\n  \n  update () {\n    this.controls.update();\n    this.controller1.update();\n    this.controller2.update();\n  }\n  \n}\n\nmodule.exports = Scene1;\n\n\n// WEBPACK FOOTER //\n// ./app/game/Scene1.js","/* global WEBVR */\n/* global THREE */\n\nclass Controller extends THREE.ViveController  {\n  constructor(index, controls) {\n    super(index);\n    \n    this.index = index;\n    let self = this;\n    \n    this.onTriggerDown = function (event) {\n      console.log(\"triggerDown \"+ this.index);\n    };\n    this.onTriggerUp = function (event) {\n      console.log(\"triggerUp \"+ this.index);\n    };\n    \n    this.standingMatrix = controls.getStandingMatrix();\n    this.addEventListener('triggerdown', this.onTriggerDown);\n    this.addEventListener('triggerup', this.onTriggerUp);\n    \n    var loader = new THREE.OBJLoader();\n    loader.setPath('./models/obj/vive-controller/');\n    \n    \n    loader.load('vr_controller_vive_1_5.obj', function(object) {\n      var loader = new THREE.TextureLoader();\n      loader.setPath('./models/obj/vive-controller/');\n      \n      var controller = object.children[0];\n      controller.material.map = loader.load(\n        'onepointfive_texture.png'\n      );\n      controller.material.specularMap = loader.load(\n        'onepointfive_spec.png'\n      );\n      \n      self.add(object.clone());\n    });\n  }\n}\n\nmodule.exports = Controller;\n\n\n// WEBPACK FOOTER //\n// ./app/game/vr-controller.js"],"sourceRoot":""}